
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SOULo - Your Mental Wellness Companion</title>
    <meta name="description" content="SOULo helps you understand your emotions through AI-powered voice journaling." />
    <meta name="author" content="SOULo" />

    <meta property="og:title" content="SOULo - Mental Wellness Companion" />
    <meta property="og:description" content="Track your emotions and gain insights with AI-powered voice journaling" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://soulo.online/opengraph-image.png" />
    <meta property="og:url" content="https://soulo.online" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@soulo_online" />
    <meta name="twitter:image" content="https://soulo.online/opengraph-image.png" />
    
    <!-- Preconnect to Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Main fonts with display=swap for faster rendering -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- Preload critical fonts -->
    <link rel="preload" href="https://fonts.gstatic.com/s/notosans/v28/o-0IIpQlx3QUlC5A4PNr5TRA.woff2" as="font" type="font/woff2" crossorigin fetchpriority="high">
    <link rel="preload" href="https://fonts.gstatic.com/s/notosansdevanagari/v25/TuGoUUFzXI5FBtUq5a8bjKYTZjtRU6Sgv3kQ_iuU3i8sSg.woff2" as="font" type="font/woff2" crossorigin fetchpriority="high">
    
    <style>
      /* Font classes for specific scripts */
      .devanagari-text {
        font-family: 'Noto Sans Devanagari', sans-serif !important;
        letter-spacing: 0.05em;
      }
      
      .non-latin-text {
        font-family: 'Noto Sans', sans-serif !important;
        letter-spacing: 0.02em;
      }
      
      /* Fix for ThreeJS canvas */
      canvas.three-canvas {
        display: block;
        width: 100%;
        height: 100%;
      }
      
      /* Set default font for the entire application */
      body {
        font-family: 'Noto Sans', sans-serif;
      }
      
      /* Font loading detection */
      .fonts-loaded {
        opacity: 1;
        transition: opacity 0.5s ease;
      }
      
      .fonts-loading {
        opacity: 0.8;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <div id="google_translate_element" style="position: absolute; top: -9999px; left: -9999px;"></div>
    <script type="module" src="/src/main.tsx"></script>
    <script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit" async defer></script>
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
    
    <script>
      // Check font availability and mark when fonts are loaded
      document.addEventListener('DOMContentLoaded', function() {
        document.body.classList.add('fonts-loading');
        
        if (document.fonts) {
          document.fonts.ready.then(function() {
            console.log('All fonts loaded successfully');
            document.body.classList.remove('fonts-loading');
            document.body.classList.add('fonts-loaded');
          });
          
          // Check for specific fonts
          Promise.all([
            document.fonts.load('1em "Noto Sans"'),
            document.fonts.load('1em "Noto Sans Devanagari"')
          ]).then(function(loadedFonts) {
            console.log('Critical fonts loaded:', 
              loadedFonts[0].length > 0 ? 'Noto Sans ✓' : 'Noto Sans ✗',
              loadedFonts[1].length > 0 ? 'Noto Sans Devanagari ✓' : 'Noto Sans Devanagari ✗'
            );
          });
        }
        
        // Apply settings for Three.js
        if (window.THREE) {
          console.log('THREE.js detected - applying optimizations');
          window.THREE_FORCE_WEBGL2 = true;
        }
      });
      
      // Force reload if the app fails to load within 10 seconds
      setTimeout(function() {
        if (document.readyState !== 'complete') {
          console.log('Application failed to load completely. Reloading...');
          window.location.reload();
        }
      }, 10000);
    </script>
  </body>
</html>
