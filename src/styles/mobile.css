
/* Import focused mobile stylesheets */
@import './safe-area.css';
@import './mobile-navigation.css';

/* Mobile-specific styles - remaining rules */
@media (max-width: 768px) {
  /* Fullscreen components like SoulNet */
  .fixed.inset-0.z-\[9999\] {
    position: fixed !important;
    top: var(--calculated-safe-area-top) !important;
    left: var(--calculated-safe-area-left) !important;
    right: var(--calculated-safe-area-right) !important;
    bottom: var(--calculated-safe-area-bottom) !important;
    width: calc(100vw - var(--calculated-safe-area-left) - var(--calculated-safe-area-right)) !important;
    height: calc(100vh - var(--calculated-safe-area-top) - var(--calculated-safe-area-bottom)) !important;
    z-index: 9998 !important;
    margin: 0 !important;
    padding: 0 !important;
    background-color: hsl(var(--background)) !important;
  }
  
  /* Chat content safe area - ensure proper bottom padding */
  .mobile-chat-content {
    padding-bottom: calc(var(--nav-bar-height) + 1rem) !important;
  }
  
  /* When keyboard is visible, reduce bottom padding */
  .keyboard-visible .mobile-chat-content {
    padding-bottom: 1rem !important;
  }
  
  /* Insights page optimizations */
  .insights-container .grid-cols-1 > div,
  .insights-container .bg-background,
  .insights-container .mb-8 > div {
    width: 100% !important;
    max-width: 100% !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    border-radius: 10px !important;
  }
  
  .insights-page-content {
    padding-left: 0 !important;
    padding-right: 0 !important;
    overflow-x: hidden !important;
  }
  
  .insights-container .max-w-5xl > div {
    margin-left: 0 !important;
    margin-right: 0 !important;
  }
  
  .insights-container .mb-8 .bg-background .rounded-xl:not(.fixed) {
    padding: 0 !important;
  }
  
  /* Year view calendar compact styling */
  .compact-table-mobile {
    table-layout: fixed !important;
    font-size: 10px !important;
  }
  
  .compact-table-mobile th,
  .compact-table-mobile td {
    padding: 1px !important;
  }
  
  .compact-table-mobile div.rounded-full {
    width: 12px !important;
    height: 12px !important;
    margin: 1px auto !important;
  }
}

/* Prevent horizontal scrolling at the root level */
html, body {
  overflow-x: hidden !important;
  width: 100% !important;
  position: relative !important;
}

#root {
  padding-left: 0 !important;
  padding-right: 0 !important;
  max-width: 100% !important;
  overflow-x: hidden !important;
}

/* Desktop year view - larger dots */
@media (min-width: 769px) {
  .compact-year-view div.rounded-full {
    width: 16px !important;
    height: 16px !important;
  }
}

/* Enhanced notch and cutout handling for modern devices */
@supports (padding: max(0px)) {
  @media (max-width: 768px) {
    .smart-chat-container,
    .journal-container,
    .insights-container,
    .settings-container {
      padding-top: max(var(--status-bar-height), var(--calculated-safe-area-top)) !important;
      padding-bottom: max(var(--nav-bar-height), calc(var(--calculated-safe-area-bottom) + var(--nav-bar-height))) !important;
    }
    
    /* When keyboard is visible, adjust container padding */
    .keyboard-visible .smart-chat-container,
    .keyboard-visible .journal-container,
    .keyboard-visible .insights-container,
    .keyboard-visible .settings-container {
      padding-bottom: var(--calculated-safe-area-bottom) !important;
    }
  }
}
